<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>IF</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  </head>

  <body>
    <script>
      // variables
      let xS, yS, dS, rS, vS;
      let xL, yL, dL, rL, vL;
      let dia, mes, anio;

      function setup() {
        createCanvas(800, 800);

        // Sol
        dS = 0.18 * width;
        rS = dS / 2;
        yS = 0.35 * height;
        xS = -rS;
        vS = width / 400;

        // Luna
        dL = dS * 0.5;
        rL = dL / 2;
        xL = -width - 6 * rL;
        yL = height / 3;
        vL = vS;

        // Calendario
        dia = 1;
        mes = 1;
        anio = 2026;

        textSize(25);
      }

      function draw() {
        // Día o noche
        if (xS <= width + rS) {
          background(102, 175, 212); // día
        } else {
          background(0); // noche
        }

        // Suelo
        noStroke();
        fill(34, 112, 50);
        rect(0, 0.8 * height, width, 0.2 * height);

        // Luna
        fill(200);
        circle(xL, yL, dL);
        xL += vL;

        // Sol
        fill(249, 235, 37);
        circle(xS, yS, dS);
        xS += vS;

        // Reinicio y avance del calendario
        if (xS > 2 * width + rS) {
          xS = -rS;
          xL = -width - 6 * rL;
          dia = dia + 1;
        }

        if (dia > 30) {
          dia = 1;
          mes = mes + 1;
        }

        if (mes > 12) {
          mes = 1;
          anio = anio + 1;
        }

        // Texto de fecha (dentro de draw)
        if (xS <= width + rS) {
          fill(0); // día
        } else {
          fill(255); // noche
        }

        text("Fecha: (" + dia + ") (" + mes + ") (" + anio + ")", 10, 30);
      }
    </script>
  </body>
</html>
